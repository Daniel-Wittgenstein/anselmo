
/*

each level template must have the property
lookup_table. it's an object that maps
chars to tile values. tile values can be numbers
or strings or objects

might look like so:

{
    "1": 1,
    "2": 2,
    "3": 3,
    "g": "grass_tile",
    "#" {entity: EntityClass, tile: "grass_tile"}
}

if a tile value is an object it has to value
entity value and tile value

The level generator handles the proper map
and entity creation, the level_templates
just store data



Note: the different sections can have different height, but all
level_templates from the same section have to have the exact same height.

the width must be identical for ALL level_templates

*/



level_templates = (function() {

    level_templates = []

    function add(templ) {
        if (!templ.lookup_table) templ.lookup_table = legend.normal
        level_templates.push(templ)
    }
    
    add({
        lookup_table: legend.normal,
        section: "air",
        test: "air123",
        content: `
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        .....x..x...............................
        ...........................x............
        ...........................x............
        ...........22222...........x............
        ...........................x............
        ....................222....x............
        .................................x......
        ..................x.....................
        .................x.......222222.....x...
        ........................................
        ...............22222....................
        
        `
    })
  
    add({
        lookup_table: legend.normal,
        section: "air",
        test: "air123",
        content: `
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        .....................x..................
        .....................x..................
        .....................x..................
        .....................x..................
        ........................................
        ........................................
        .................#.222222.'.............
        ........................................
        .................x........x.............
        ........................................
        .................x........x.............
        .....x..........................x.......
        ..........x..........................x..
        ........................................
        ....2222.......22222...22222...2222.....
        
        `
    })
  
    add({
        lookup_table: legend.normal,
        section: "air",
        test: "air123",
        content: `
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ...........x.........x.............xx...
        ..........x..........x.............xx...
        ........................................
        .........22222....22222............22...
        ...............#........................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ...............22222....................
        
        `
    })

        
    add({
        lookup_table: legend.normal,
        section: "mid",
        test: "mid123",
        content: `
        ........................................
        ........................................
        ........B0...00B........................
        .......B000...10B.......................
        .......0B101110B........................
        .........1111...........................
        .......#.1111...........................
        .........1111......B....................
        .........11111111111B...................
        .........11111..........................
        .........1111....#......................
        .........1111...........................
        ......1111111...........................
        .........1111...........................
        ....#....1111x..........................
        .........1111...........................
        .........1111...........................
        .........1111......B0...................
        .........1111111111110..................
        ...B.....1111.......B...................
        ..BB111111111.#.........................
        ...B.....1111...........................
        ......#..1111...........................
        .........1111...........................
        .........1111...........................
        .........1111................b..........
        .........1111..............222W.........
        ......1111111..............11111W.......
        ....b.111111111..e.......§.111111..§....
        1W22W1111111111111WW22WW11111111111W22W2
        1111111111111111111111111111111111111111
        1111111111111111111111111111111111111111
        
        `
    })
               
    add({
        lookup_table: legend.normal,
        section: "mid",
        test: "mid123",
        content: `
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ................x....x..................
        ............x....x.x....................
        ........................................
        ..............BBx..BB...................
        .............BB1BBB1BB..................
        .............BB.111BB...................
        .......x........111.........22..........
        ...........11111111.....................
        ...........'....111..x.'................
        .......22.......111.....................
        .'..............1111111....222..........
        ................111..............222....
        ...222.......x..111...................22
        ...........x....111.....................
        ................111.....................
        .....s.......&..111....§...222WW....e...
        2222WWW222222222111222WW222111112222W222
        1111111111111111111111111111111111111111

        
        `
    })
               
    
    add({
        lookup_table: legend.normal,
        section: "mid",
        test: "mid123",
        content: `
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ................x....x..................
        ............x....x.x...#................
        ........................................
        ..............BBx..BB...................
        .............BB1BBB1BB..................
        .............BB.111BB...................
        .......x........111.....................
        ...........11111111.....................
        ...........#....111..x.#................
        ................111.....................
        ................1111111.................
        ................111.....................
        .............x..111.....................
        ...........x....111.....................
        ................111.....................
        .......s..§.....111...§...222WW....e..&.
        2222WWW222222222111222WW222111112222W222
        1111111111111111111111111111111111111111

        
        `
    })
    
    add({
        lookup_table: legend.normal,
        section: "mid",
        test: "mid123",
        bottom_open: true,
        content: `
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        .............x.............x............
        ..........x...................x.........
        .....'.............................'....
        ........................................
        ........................................
        ............x....x......................
        ............................x...........
        ........................................
        222..................................222
        111..................................111

        
        `
    })

                   
    add({
        lookup_table: legend.normal,
        section: "mid",
        test: "mid123",
        content: `

        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        .......................x................
        ........................x..........x....
        .....................................x..
        .............................b.§........
        ............................2W22........
        ............................1111........
        ...............x..........#.1111..'.....
        ..................x.........1111........
        ...........x................111122......
        ............................111111....§.
        .......x....2222W22.........111111....22
        .....s...§..1111111...e.....111111....11
        2222WWW222221111111222WW222111112222W222
        1111111111111111111111111111111111111111

        
        `
    })
       
    

    add({
        lookup_table: legend.normal,
        section: "underground",
        test: "ug123",
        top_open: true,
        content: `
        111..................................111
        11.................................#..11
        11..............................x.....11
        11..................................1111
        11....................................11
        11...x............................x..111
        111................................#.111
        11..x................................111
        11..................................1111
        111..'..................................
        11111...................................
        111.....................................
        11..................x..............#....
        .............................b..........
        ..................1111.....1111.........
        ......11111................111111.......
        ......111113...i......§....111111..m....
        1111111111111111111111111111111111111111
        1111111111111111111111111111111111111111
        1111111111111111111111111111111111111111
        
        `
    })
    
    add({
        lookup_table: legend.normal,
        section: "underground",
        test: "ug123",
        content: `
        1111111111111111111111111111111111111111
        111111111111111111111111111...1111111111
        11111111..............111...........1111
        1111..1................1.............111
        11.....x..............................11
        1....x...................x............11
        ............................x.......1111
        ...................................11111
        .1..................................1111
        11.#.............................#...111
        11....................................11
        11.................................11111
        111..................................111
        ........................................
        ........................................
        111.....i...............................
        111...111111......m........111111.......
        1111111111111111111111111111111111111111
        1111111111111111111111111111111111111111
        1111111111111111111111111111111111111111
        
        `
    })
    
        
    add({
        lookup_table: legend.normal,
        section: "underground",
        test: "ug123",
        content: `
        1111111111111111111111111111111111111111
        111111111111111111111111111...1111111111
        1111111111111.....11111111..........1111
        1111111111111.....1111111............111
        1111111111111......11111..............11
        111111..11111.......1111.x............11
        111......111........111.....x.......1111
        11....x..11..........11............11111
        11........1..........11.............1111
        11.#.................1...........#...111
        11....................................11
        11.................................11111
        111..................................111
        ........................................
        ................1.......................
        111.....i.......11............m.........
        111111111111...1111...k....111111.......
        1111111111111111111111111111111111111111
        1111111111111111111111111111111111111111
        1111111111111111111111111111111111111111
        
        `
    })
    
            
    add({
        lookup_table: legend.normal,
        section: "underground",
        test: "ug123",
        top_open: true,
        content: `
        111111111111..............11111111111111
        111111111111111...............1111111111
        1111111111111.......................1111
        1111111111111....#1111111'...........111
        1111111111111......11111..............11
        111111..11111.......111...............11
        111......111........11............x..111
        11.......11..........1...............111
        11...x....1..................x.......111
        11.x...........x.11.......x......#.11111
        11...i....'.......................111111
        1111111.......11...................11111
        1111111111...........................111
        ........................................
        ................1.......................
        111.....i.......11.........k..m.........
        111111111111...1111...b....111111.......
        1111111111111111111111111111111111111111
        1111111111111111111111111111111111111111
        1111111111111111111111111111111111111111
        
        `
    })
                
    add({
        lookup_table: legend.normal,
        section: "underground",
        test: "ug123",
        bottom_open: true,
        content: `
        1111111111111111111111111111111111111111
        1111111111111111111111111111111111111111
        1111111111111.......ix..............1111
        1111111111111....'1111111'...........111
        ...................11111................
        ....................111.................
        111..#...111........11...........x...111
        11.......11..........................111
        11.x.........................x.......111
        11....x........x..........x........11111
        11...i....'........11..............11111
        1111111............................11111
        1111111111...........................111
        ........................................
        ........................................
        111.....i.......11............m.........
        111111111111...1111...b....11111111..m..
        111111111111.........1111111111111111111
        1111111111111.......11111111111111111111
        111111111111.........1111111111111111111
        
        `
    })
    
                    
    add({
        lookup_table: legend.normal,
        section: "underground",
        test: "ug123",
        bottom_open: true,
        content: `

        1111111111111111111111111111111111111111
        1111111111111111111111111111111111111111
        1111111111111111111111111111111111111111
        111111111....1111111..11111......1111111
        111111........11111....111.........11111
        1111...........111.....111.........11111
        11.............111......1..........11...
        ................1..................1....
        ................1..................1....
        ......x.................................
        ........................................
        ....x....111...................'........
        ........................................
        ..................111111................
        ............................11.....x....
        ..........x..........................x..
        ..x........................x............
        ........................................
        11111.........................1111111111
        11111111........................11111111

        `
    })
        
                    
    add({
        lookup_table: legend.normal,
        section: "underground",
        test: "ug123",
        content: `

        1111111111111111111111111111111111111111
        1111111111111111111111111111111111111111
        1111111111111111111111111111111111111111
        111111111....1111111..11111......1111111
        111111........11111....111.........11111
        1111...............................11111
        11..................................1111
        .....................................111
        .....................................111
        .....................................111
        .....................................111
        .....................b................11
        .....b....1111.....11111....1111........
        ...11111................................
        ........................................
        ..........x..x.x.....x...x..x.x.....1111
        1111111.x.....x...x..x.....x.....1111111
        1111111..x..p........x.........x.1111111
        1111111111111111111111111111111111111111
        1111111111111111111111111111111111111111

        `
    })
    
            
                    
    add({
        lookup_table: legend.normal,
        section: "underground",
        test: "ug123",
        content: `

        1111111111111111111111111111111111111111
        1111111111111111111111111111111111111111
        111111111111111111111..11111111111111111
        111111111....111111.....111......1111111
        111111........11111....111.........11111
        1111...............................11111
        11..................................1111
        11...................................111
        11..................11111111.........111
        11................................'..111
        111111..........'....................111
        ......................................11
        ..........1111..............1111........
        ........................................
        ........................................
        ............xxxxxxxxxxxxxxxxxx........11
        1111111..........................1111111
        1111111.M..M.mM..mm..........M....111111
        1111111111111111111111111111111111111111
        1111111111111111111111111111111111111111

        `
    })
    
                        
    add({
        lookup_table: legend.normal,
        section: "underground",
        test: "ug123",
        bottom_open: true,
        content: `

        1111111111111111111111111111111111111111
        1111111111111111111111111111111111111111
        1111111111111111111111111111111111111111
        111111111....111111..111111......1111111
        111111........11111....111.........11111
        1111...............................11111
        11.....................x................
        11.....x...........1..m.....1........x..
        11..x.....x...1....1111111111.........11
        11....x.x....11...................'..111
        1...x.......111.'....................111
        11....k..111111.....x.................11
        1111111111111...........................
        ........1111.......................x....
        .........1.............111..............
        .......................................1
        111111.....................x.....1111111
        1111111..i........................111111
        11111111111111.......1111......111111111
        111111111111111.....111111....1111111111

        `
    })
    
                          
    add({
        lookup_table: legend.normal,
        section: "underground",
        test: "ug123",
        name: "levertest",
        content: `

        1111111111111111111111111111111111111111
        1111111111111111111111111111111111111111
        111...................................11
        111...........x...............x.......11
        111.........................x.....x...11
        111..............x....................11
        111....11111..................x.....x.11
        111.................................1111
        111...............................#.1111
        11111.'.............................1111
        111.....................................
        111.x..........................+........
        111..........................x..........
        11111116%.....................611111....
        11111111.............x........111111....
        11111111....x.......P.........111111....
        11111111...................x..1111111111
        11111111...m....m....x........1111111111
        1111111111111111111111111111111111111111
        1111111111111111111111111111111111111111


        `
    })

                        
    add({
        lookup_table: legend.normal,
        section: "underground",
        test: "ug123",
        bottom_open: false, //yes, false! due to switch, the bottom
        //is not guaranteed to be open!
        content: `

        1111111111111111111111111111111111111111
        1111111111111111111111111111111111111111
        1111111111111111111111111111111111111111
        111111111....111111..11..........1111111
        111111........11...................11111
        1111...........1...................11111
        11.........................x............
        11...................................x..
        11......................11............11
        11......x.........................#..111
        1...+................................111
        11.......#..........x.................11
        111111111.......111.....................
        ...................................x....
        .......................111..............
        .......................................1
        111111...........................1111111
        1111111............................11111
        111111111111111*......111111111111111111
        111111111111111.......111111111111111111

        `
    })
                            
    add({
        lookup_table: legend.normal,
        section: "underground",
        name: "sandtest",
        content: `

        1111111111111111111111111111111111111111
        1111111111111111111111111111111111111111
        1111111111111111111111111111111111111111
        111111111....111111..11..........1111111
        111111........11...................11111
        1111...........1...................11111
        11.........................x............
        11...................................x..
        11......................11............11
        11......x.........................#..111
        1...+................................111
        11.......#..........x.................11
        111111111.......111.....................
        ...................................x....
        .......................111..............
        .......................................1
        111111...........................1111111
        1111111......s...s...s.....s.......11111
        1111111111111777777777777111111111111111
        1111111111111777777777777771111111111111

        `
    })
    


    
    
/*
    add({
        lookup_table: legend.normal,
        section: "air",
        content: `
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        
        `
    })

    add({
        content: `
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        
        `
    })



    add({
        lookup_table: legend.normal,
        section: "air",
        test: "air123",
        content: `
        ........................................
        ........................................
        ................22......................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ...............22.......................
        
        `
    })
        
    add({
        lookup_table: legend.normal,
        section: "mid",
        test: "mid123",
        content: `
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        ........................................
        .........1..............................
        .........1.................1111.........
        ......11111................111111.......
        ......111113...............111111.......
        1111111111111111111111111111111111111111
        1111111111111111111111111111111111111111
        1111111111111111111111111111111111111111
        
        `
    })
        


*/
    
    return level_templates

})()
